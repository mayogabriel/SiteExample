<div class="card-panel header-content">
    <div class="row">
        <div class="col s12">
            <a class="breadcrumb" data-ui-sref="main.users.list">{{ 'Usuarios' }}</a>
            <a class="breadcrumb" data-ui-sref="main.users.list">{{ reportCtrl.user.getFullName() }}</a>
            <span class="breadcrumb grey-text" >{{ 'Reporte General de Campañas' }}</span>
        </div>
    </div>
    <div class="row">
        <div class="col s12 m6">
            <h1> {{ 'Nombre de campaña' }}</h1>
        </div>
    </div>
    <hr>
</div>
<div class="card-panel">
    <div class="row">
        <div class="input-field col s8 m6 l4">
            <label class="active">Campañas</label>
            <select data-ng-model="reportCtrl.campaignSelected"  
                    data-ng-change="reportCtrl.changeCampaigns()" 
                    material-select watch>
                <option data-ng-repeat="campaign in reportCtrl.campaigns"
                        data-ng-selected="campaign.id === reportCtrl.campaignSelected">{{campaign.name}}</option>
            </select>
        </div>
        
        <div class="input-field col s4 m6 l3">
            <label class="active">Tiempo</label>
            <select data-ng-model="reportCtrl.typeViewSelected"  
                    data-ng-change="reportCtrl.changeTypeView()" 
                    material-select watch>
                <option data-ng-repeat="typeView in reportCtrl.typeView"
                        data-ng-selected="typeView === reportCtrl.typeViewSelected">{{typeView}}</option>
            </select>
        </div>
    </div>
    <div class="row">
        <div class="col s7"> 
            <canvas id="line" class="chart chart-line" 
                    chart-data="reportCtrl.chart.data" chart-legend="false"
                    chart-labels="reportCtrl.chart.labels" chart-series="reportCtrl.chart.series" 
                    chart-options="reportCtrl.chart.options"
                    chart-click="reportCtrl.onClick">
            </canvas> 
            <charts-legend chartdata="reportCtrl.chart" show="reportCtrl.lineShow" ng-click="reportCtrl.handleShow()"></charts-legend>
        </div>
        
        <div class="col m5 s12 columna-derecha" style="position: relative; min-height: 100px;">            
            <table data-ng-if="!reportCtrl.loading">
                <thead>
                    <tr>
                        <th data-field="fecha" ><i class="icon-fecha"></i></th>
                        <th data-field="name" >{{ 'Aperturas' }}</th>
                        <th data-field="mail" >{{ 'Click' }}</th>
                        <th data-field="estado" >{{ 'Conversiones' }}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-ng-repeat="row in reportCtrl.dataRequestComplete">
                        <td class="">{{row.Date}}</td>
                        <td class="">{{row.Aperturas}}</td>
                        <td class="">{{row.Clicks}}</td>
                        <td class="">{{row.Conversiones}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>